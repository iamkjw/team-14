<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="opcode.js"></script>
  <script src="Chip8.js"></script>
</head>
<body>
<canvas id="screen" width="1080" height="760"></canvas>
  </canvas>
  <div>
      Select a game file:
      <input type="file" id="fileInput">
    </div>
  <script>

  window.onload = function() {
      var fileInput = document.getElementById('fileInput');

      fileInput.addEventListener('change', function(e) {
        var file = fileInput.files[0];
        Processor.Reset();
        Processor.LoadProgram(file);
      });


  }

  setInterval(function(){
    if(Processor.PROGRAM_LOADED == true)
    {
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();

    }

  }, 16);

  setInterval(function(){
    if(Processor.PROGRAM_LOADED == true)
      Processor.DebugRender();

  }, 16);


  </script>

</body>
</html>
